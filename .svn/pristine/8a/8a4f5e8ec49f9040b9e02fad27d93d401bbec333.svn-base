<template>
  <div>
    <span class="list-dropdown-text">
      <a data-toggle="dropdown" class="zfbtn">
        <span class="down-arrow"></span>
        <div>
          <span>{{SelectedItem ? SelectedItem[TextField] : this.GetSanaText("Dropdown_DefaultText","Search")}}</span>
        </div>
      </a>
      <ul class="dropdown-menu dropdown-menu-right">
        <li v-for="(item,index) in DataList" :key="index">
          <a v-on:click="changeSelection(item)">{{item[TextField]}}</a>
        </li>
      </ul>
    </span>
  </div>
</template>

<script>
export default {
  name: "Dropdown",

  props: {
    /// options array
    DataList: {
      type: Array,
      required: true
    },
    /// default item to be selected
    PreSelecteditem: {
      type: Object,
      required: false
    },
    /// if field to bind on drop down
    IdField: {
      type: String,
      required: true
    },
    /// text field to bind on drop down
    TextField: {
      type: String,
      required: true
    }
  },

  data() {
    return {
      SelectedItem: {}
    };
  },
  created() {
    this.changeSelection(this.PreSelecteditem, false);
  },
  methods: {
    changeSelection(data, emitEvent = true) {
      this.SelectedItem = data;
      if (emitEvent) {
        this.$emit("onChangeSelection", this.SelectedItem);
      }
    }
  }
};
</script>

<style lang="scss" scoped></style>