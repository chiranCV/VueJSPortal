import httpService from "../service/http-service";
import config from "../config.json";

class ProductApi {
  // get product search reult list forn Sana Api
  // (query:serach text, pageNo: page no, pageSize: page size)
  static getProductList = async (query, pageNo, pageSize) => {
    const apiEndpoint = config.APIMethods.Product.Search;
    const params = {
      searchQuery: query,
      page: pageNo || 0,
      count: pageSize || 10
    };
    try {
      const { data: products } = await httpService.get(apiEndpoint, {
        params
      });
      return products;
    } catch (ex) {
      if (ex.response && ex.response.status === 404);
      throw ex;
    }
  };

  // get product detail page data form Sna Api
  // (productId: product Id)
  static getProductDetail = async (productId) => {
    const apiEndpoint = config.APIMethods.Product.Details;
    const params = {
      id: productId
    };
    try {
      const { data: product } = await httpService.get(apiEndpoint, {
        params
      });
      return product;
    } catch (ex) {
      if (ex.response && ex.response.status === 404);
      throw ex;
    }
  };
}
export default ProductApi;
