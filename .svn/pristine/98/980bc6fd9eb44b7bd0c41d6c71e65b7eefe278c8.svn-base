<template>
  <div class="dPContainer">
    <div>
      <Datepicker
        v-bind:placeholder="PlaceHolder"
        v-bind:value="SelectedDate"
        ref="programaticOpen"
        v-bind:format="DateFormat"
        v-on:selected="onDateSelect($event)"
      ></Datepicker>
      <span class="calenderIcon" @click="openPicker">
        <img class="img-fluid" src="@/assets/calender-icon.png">
      </span>
    </div>
  </div>
</template>

<script >
import Datepicker from "vuejs-datepicker";
import * as moment from "moment";

export default {
  name: "Date",
  components: {
    Datepicker
  },
  props: {
    IsProgramaticOpen: {
      type: Boolean,
      default: false
    },
    PlaceHolder: {
      type: String,
      default: "Select Date"
    },
    DateFormat: {
      type: String,
      default: "MM/dd/yyyy"
    },
    SelectedDate: {
      type: String,
      default: Date(Date.now())
    }
  },
  methods: {
    openPicker() {
      this.$refs.programaticOpen.showCalendar();
      this.$refs.programaticOpen.$el.querySelector("input").focus();
    },

    onDateSelect(selecteddate) {
      this.$emit("onDateSelect", selecteddate);
    }
  }
};
</script>

<style lang="scss" scoped>
</style>